<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/pages/ift/ift-documentation/stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/pages/ift/ift-documentation/stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/pages/ift/ift-documentation/stylesheets/print.css" media="print">
    <title>Installation Frameworks Team</title>
    
    <script language="javascript">    	
        window.addEventListener('load', function () {
    		var lst = document.getElementsByTagName("details");	
			var found = false;		
    		for (var i = 0; i < lst.length; i++) {        			
			  	var nodes = lst[i].getElementsByTagName('li');		
				for (var j = 0; j < nodes.length; j++) { 
					if(nodes[j].className == "active") {						
						lst[i].open=true;						
					}
				}					    		     		  
    		}
    	})
    
    	function showDocumentEmbeded(url, element) {    
        	document.getElementById('mainContent').style.display="none";
        	
        	document.getElementById('embededDocumentContainer').style.background = "url('/pages/ift/ift-documentation/images/loading.gif') top center no-repeat";
        	document.getElementById('embededDocumentContainer').style.display="block";
    		
        	document.getElementById('framedDocument').src = url;
        	
        	var lst = document.getElementsByTagName("LI");
    		for (var i = 0; i < lst.length; i++) {
    		  if(lst[i].className.trim().indexOf("active") == 0 ) {
    			  lst[i].className = "";
    		  }
    		}
    		document.getElementById(element).className = "active";
    		window.history.pushState('edgelm', 'Installation Frameworks Team', url);    		
    	}
    	
    	function embededDocumentLoaded() {
    		document.getElementById('embededDocumentContainer').style.background = ""; 
    		document.getElementById('embededDocumentContainer').style.display="block";
    	}
    </script>
    
  </head>
  <body>
    <header>
      <div class="inner">
        <h1>Installation&nbsp;Frameworks&nbsp;Team</h1>
        <h2>&nbsp;&nbsp;All you need in one place</h2>
      </div>
    </header>
    
    <div id="content-wrapper">
      <div class="clearfix">
        <table border="0"><tr style="padding:0px 0px 0px 0px;">
        	
        		
		        	<td style="padding:0px 20px 10px 10px;border-bottom: 4px solid #69c;" width="1%" align="left">
		        	<h4 class="menu_topic"><a style="cursor: default; font-weight: bold; href="/pages/ift/ift-documentation/pages/ift/index" target="_self" title="High protein veg ideas">Vegeterian high-protein</a></h4>
		        
		        </td>
        	
        	<td style="padding:0px 0px 0px 0px; border-bottom: 4px solid #69c;" width="99%" />
        </tr>
        </table>
      	<table border="0"><tr>
      		
      			
      				<td width="300px" valign="top" aligh="left" style="border-right:4px solid #69c">
		      			<h4 class="menu_topic">High protein veg ideas</h4>
		      			<ul style="margin: 3px 5px 3px 10px;">
		      				
      				
			
	    <li style="font-size:16px; padding: 2px 0px 0px 0px;" id="__lnk__0_1" class="">
	      
	      	<a href="/pages/ift/ift-documentation/pages/ift/team" target="_self" title="">Feta Cheese and grilled veggies</a>
	      							      
	    </li>
		
      				
			
	    <li style="font-size:16px; padding: 2px 0px 0px 0px;" id="__lnk__0_2" class="">
	      
	      	<a href="/pages/ift/ift-documentation/pages/ift/team" target="" title="Moong dal chilla">Mong Dal Chilla</a>
	      							      
	    </li>
		
      				
	
	    
			</ul>
			<details style="padding: 0px 5px 0px 16px;"><summary style="cursor: pointer; padding:2px 0px 2px 0px; font-size:12px; font-weight: bold;">Security Scans</summary>
			<ul style="margin: 3px 5px 3px 10px;">
	    		    	   
			   
      				
			
	    <li style="font-size:16px; padding: 2px 0px 0px 0px;" id="__lnk__0__1" class="">
	      
	      	<a href="/pages/ift/ift-documentation/pages/ift/whitesource" target="_self" title="Whitesource">Whitesource</a>
	      							      
	    </li>
		
      				
			
	    <li style="font-size:16px; padding: 2px 0px 0px 0px;" id="__lnk__0__2" class="">
	      
	      	<a href="/pages/ift/ift-documentation/pages/ift/protecode" target="_self" title="Protecode">Protecode</a>
	      							      
	    </li>
		
      				
			
	    <li style="font-size:16px; padding: 2px 0px 0px 0px;" id="__lnk__0__3" class="">
	      
	      	<a href="/pages/ift/ift-documentation/pages/ift/checkmarx" target="_self" title="Protecode">Checkmarx</a>
	      							      
	    </li>
		
      				
			
	    <li style="font-size:16px; padding: 2px 0px 0px 0px;" id="__lnk__0__4" class="">
	      
	      	<a href="/pages/ift/ift-documentation/pages/ift/protecode" target="_self" title="Protecode">Iungo reports</a>
	      							      
	    </li>
		


			
			</ul></details>
			<ul style="margin: 3px 5px 3px 10px;">			
		
		
      				
	
	    
			</ul>
			<details style="padding: 0px 5px 0px 16px;"><summary style="cursor: pointer; padding:2px 0px 2px 0px; font-size:12px; font-weight: bold;">Hyperscaler</summary>
			<ul style="margin: 3px 5px 3px 10px;">
	    		    	   
			   
      				
			
	    <li style="font-size:16px; padding: 2px 0px 0px 0px;" id="__lnk__0___1" class="">
	      
	      	<a href="/pages/ift/ift-documentation/pages/ift/hyperscaler/alibaba" target="_self" title="">Alibaba</a>
	      							      
	    </li>
		


			
			</ul></details>
			<ul style="margin: 3px 5px 3px 10px;">			
		
		


						</ul>
					</td>
					<!-- style="border-right:4px solid blue"<td width="10px" valign="top"><aside id="sidebar"></aside></td> -->
				
			
	        <td valign="top">
		        <section id="main-content">
		        	<div id="mainContent"><h3 id="access-to-azure-registry-sapclmiftregistry-without-setting-up-a-cluster">Access to Azure Registry ‚Äúsapclmiftregistry‚Äù (without setting up a Cluster)</h3>

<p>üìù NOTE: Use this documentation if you only need access to a registry from your PC, for example if you only need to copy or transfer artifacts to a registry, without installing a container-based system. This documentation does not describe how to set up a complete K8S cluster.
If you want to set up a complete K8S cluster including a jump host with access to a container registry, go to¬†<a href="https://wiki.one.int.sap/wiki/display/SLCB/How+to+set+up+a+Cluster+on+Azure+AKS">How to set up a Cluster on Azure AKS</a> .</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>az login
</code></pre></div></div>

<ul>
  <li>Log on to the Azure AKS Console:¬† https://portal.azure.com/#home</li>
  <li>Install the Azure CLI:¬†https://docs.microsoft.com/de-de/cli/azure/install-azure-cli</li>
  <li>Make sure that you have Docker running on your PC. If you have not Docker on your PC, install Docker Desktop.</li>
  <li>Open a command prompt and execute the following:</li>
</ul>

<p>You should now see command line output like the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:\WINDOWS\system32&gt;az login
The default web browser has been opened at https://login.microsoftonline.com/common/oauth2/authorize. Please continue the login in the web browser.
If no web browser is available or if the web browser fails to open, use device code flow with az login --use-device-code.
You have logged in. Now let us find all the subscriptions to which you have access...
The following tenants require Multi-Factor Authentication (MFA).
Use 'az login --tenant TENANT_ID' to explicitly login to a tenant.
69b863e3-480a-4ee9-8bd0-20a8adb6909b 'SAP Shared Tenant'
[
{
"cloudName": "AzureCloud",
"homeTenantId": "42f7676c-f455-423c-82f6-dc2d99791af7",
"id": "3a9986fa-8e53-4d17-98fc-3ddf4042818b",
"isDefault": true,
"managedByTenants": [],
"name": "sap-clm-azr-inst-framework",
"state": "Enabled",
"tenantId": "42f7676c-f455-423c-82f6-dc2d99791af7",
"user": {
"name": "klaus.billig@sap.com",
"type": "user"
}
}
]
</code></pre></div></div>

<p>Now enter the following command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>az acr login --name sapclmiftregistry
</code></pre></div></div>

<p>In case of success, you should now see command line output like the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:\WINDOWS\system32&gt;az acr login --name sapclmiftregistry

</code></pre></div></div>

<p>Login Succeeded</p>

<p>open the Azure Registry page and check access keys:
<a href="">https://portal.azure.com/#@sap.onmicrosoft.com/resource/subscriptions/3a9986fa-8e53-4d17-98fc-3ddf4042818b/resourceGroups/sapclmift/providers/Microsoft.ContainerRegistry/registries/sapclmiftregistry/accessKey</a>
You should see now the following information. The values required for you to log on to sapclmiftregistry¬†are marked with red frames:</p>

<p><code class="language-plaintext highlighter-rouge">&lt;img src="/pages/ift/ift-documentation/images/azure-registry-login.png" /&gt;</code></p>

<p>Use the Login server, the Username and password to logon with slcb to the Azure registry.
To test that this works, try out the following from the same command prompt you used to log in to the¬†sapclmiftregistry before:</p>

<p>Keep in mind that you cannot log on directly to¬†sapclmiftregistry.azurecr.io¬†. When entering the value for ‚ÄúAddress of the Container Image Repository‚Äù you must specify a subfolder with your user id:¬†sapclmiftregistry.azurecr.io/<code class="language-plaintext highlighter-rouge">&lt;your user id&gt;</code>. Example:¬†sapclmiftregistry.azurecr.io/d035521</p>

<p>If you only enter sapclmiftregistry.azurecr.io¬†without specifying a subfolder, you get an error like the following:
Error: Get ‚Äúhttps://sapclmiftregistry/v2/‚Äù: dial tcp: lookup sapclmiftregistry: no such host</p>

<p>slcb copy ‚ÄìonlyBridgebase ‚ÄìSAP_REPO_STAGE val</p>

<p>Example Output in case of success:</p>

<p>C:\Users\D035521\Downloads&gt;slcb copy ‚ÄìonlyBridgebase ‚ÄìSAP_REPO_STAGE val</p>

<p>‚Äòslcb‚Äô executable information
Executable: slcb
Build date: 2021-06-23 11:08:40 UTC
Git branch: fa/rel-1.1
Git revision: d8971d2f5c68c039a6ee7e29dfcf85b13dc8bcc5
Platform: windows
Architecture: amd64
Version: 1.1.65
SL Core version: 1.0.0
SLUI version: 2.6.67
Arguments: copy ‚ÄìonlyBridgebase ‚ÄìSAP_REPO_STAGE val
Working dir: C:\Users\D035521\Downloads
Schemata: 0.0.65, 1.14.65</p>

<p>Explanation of supported shortcuts:
<code class="language-plaintext highlighter-rouge">&lt;F1&gt;</code>: Display help for input value.
<code class="language-plaintext highlighter-rouge">&lt;ENTER&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;Ctrl-N&gt;</code>: Confirm and continue to next input value.
<code class="language-plaintext highlighter-rouge">&lt;Ctrl-C&gt;</code>: Abort current processing and return to the Welcome dialog.
Ctrl-C is not explicitly shown as an option in the command line prompt but you can always use it.
<code class="language-plaintext highlighter-rouge">&lt;F12&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;Ctrl-B&gt;</code>: Go back to previous input value.</p>

<p><code class="language-plaintext highlighter-rouge">&lt;r&gt;</code>: Retry current step.
<code class="language-plaintext highlighter-rouge">&lt;e&gt;</code>: Edit a multi-line input value.
<code class="language-plaintext highlighter-rouge">&lt;Tab&gt;</code>: Completion of input values.
In dialogs that accept only a restricted set of values (like files, directories etc)
use the <code class="language-plaintext highlighter-rouge">&lt;Tab&gt;</code> key to cycle through the values or for completion of incomplete input.</p>

<p>Copy bridgebase images only</p>

<p>Starting step ‚ÄúDownload Bridge Images‚Äù</p>

<hr />

<ul>
  <li>Product Bridge Image Repository *</li>
</ul>

<hr />

<p>Enter the address of your private container image repository used to store the bridge images.
You require read and write permissions for this repository.
Choose action <code class="language-plaintext highlighter-rouge">&lt;F12&gt;</code> for Back/<code class="language-plaintext highlighter-rouge">&lt;F1&gt;</code> for help
Address of the Container Image Repository: sapclmiftregistry.azurecr.io/d035521</p>

<hr />

<ul>
  <li>Image Registry User *</li>
</ul>

<hr />

<p>The user name used to logon to ‚Äúsapclmiftregistry.azurecr.io‚Äù. For user name enter the application (client) ID. For password enter the client secret. Identity token generated with ‚Äúaz acr
login‚Äù is not used.
Choose action <code class="language-plaintext highlighter-rouge">&lt;F12&gt;</code> for Back/<code class="language-plaintext highlighter-rouge">&lt;F1&gt;</code> for help
Image registry user name: sapclmiftregistry
Choose action <code class="language-plaintext highlighter-rouge">&lt;F12&gt;</code> for Back/<code class="language-plaintext highlighter-rouge">&lt;F1&gt;</code> for help
Image registry password:</p>

<hr />

<ul>
  <li>Enter Logon Information *</li>
</ul>

<hr />

<p>You require S-User credentials to log on to the SAP Registry (‚Äúrhapi.repositories.cloud.sap‚Äù) for product version ‚ÄúSL TOOLSET 1.0‚Äù (01200615320900005323)
Choose action <code class="language-plaintext highlighter-rouge">&lt;F12&gt;</code> for Back/<code class="language-plaintext highlighter-rouge">&lt;F1&gt;</code> for help
S-User Name: D035521
Choose action <code class="language-plaintext highlighter-rouge">&lt;F12&gt;</code> for Back/<code class="language-plaintext highlighter-rouge">&lt;F1&gt;</code> for help
Password:</p>

<p>Copying image slcb://01200615320900005323.val.dockersrv.repositories.sapcdn.io/com.sap.sl.cbpod/slcbridgebase:1.1.65 to ‚Äúsapclmiftregistry.azurecr.io/d035521‚Äù
Copying image slcb://01200615320900005323.val.dockersrv.repositories.sapcdn.io/com.sap.sl.cbpod/nginx-sidecar:1.1.65 to ‚Äúsapclmiftregistry.azurecr.io/d035521‚Äù
Successfully replicated all images</p>

<p>C:\Users\D035521\Downloads&gt;</p>
</div> 
					<div id="embededDocumentContainer" style="background:url('/pages/ift/ift-documentation/images/loading.gif') top center no-repeat; display:none;">
					  <iframe id="framedDocument" onload="javascript:embededDocumentLoaded();" style="border:none;" height="1150px" width="100%" src=""></iframe>
					</div>
		        </section>
	        </td>
	  	</tr></table>
      </div>
    </div>
  </body>
</html>
